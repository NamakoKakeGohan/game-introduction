{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { ref, computed } from \"vue\";\nimport PostSearchBar from \"../components/PlojectSearchBar.vue\";\nimport PostItem from \"../components/PostItem.vue\";\nimport PostFunctionModalDialog from \"../components/PostFunctionModalDialog.vue\";\nimport postData from \"../postData\";\nimport plusIcon from \"../assets/plus.svg\";\nexport default {\n  __name: 'HomeView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const postList = ref(postData); // 初期投稿データを管理\n    const showModal = ref(false); // モーダルの表示状態を管理\n    const searchQuery = ref(\"\");\n    const searchResults = ref([]); // 検索結果を管理\n\n    // 検索結果を更新する関数\n    function updateSearchResults(results) {\n      searchResults.value = results || [];\n    }\n\n    // 検索クエリに基づいてフィルタリングされた投稿データを計算\n    const filteredPostList = computed(() => {\n      if (searchResults.value && searchResults.value.length > 0) {\n        return searchResults.value;\n      }\n      return postList.value || [];\n    });\n\n    // モーダルの表示/非表示を切り替える関数\n    function toggleModal() {\n      showModal.value = !showModal.value;\n    }\n\n    // 新しい投稿データを追加する関数\n    function addPost(newPost) {\n      // 新しい投稿データにユニークなIDを付与\n      const newPostId = postList.value.length > 0 ? Math.max(...postList.value.map(post => post.postId)) + 1 : 1;\n      const formattedPost = {\n        ...newPost,\n        postId: newPostId,\n        // ユニークなIDを設定\n        likeCount: 0,\n        // 初期の「いいね」数\n        isLiked: false,\n        // 初期の「いいね」状態\n        formattedDate: new Date().toLocaleDateString(\"ja-JP\", {\n          year: \"numeric\",\n          month: \"long\",\n          day: \"numeric\"\n        })\n      };\n\n      // postListをリアクティブに更新\n      postList.value.unshift(formattedPost);\n\n      // 検索結果が表示されている場合も即時反映\n      searchResults.value = [];\n      console.log(\"新しい投稿データが追加されました:\", formattedPost);\n    }\n    const __returned__ = {\n      postList,\n      showModal,\n      searchQuery,\n      searchResults,\n      updateSearchResults,\n      filteredPostList,\n      toggleModal,\n      addPost,\n      ref,\n      computed,\n      PostSearchBar,\n      PostItem,\n      PostFunctionModalDialog,\n      get postData() {\n        return postData;\n      },\n      get plusIcon() {\n        return plusIcon;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","PostSearchBar","PostItem","PostFunctionModalDialog","postData","plusIcon","postList","showModal","searchQuery","searchResults","updateSearchResults","results","value","filteredPostList","length","toggleModal","addPost","newPost","newPostId","Math","max","map","post","postId","formattedPost","likeCount","isLiked","formattedDate","Date","toLocaleDateString","year","month","day","unshift","console","log"],"sources":["/Users/namako-mac/mysite/game-introduction/src/views/HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <!-- 検索バーコンポーネント -->\n    <PostSearchBar\n      :searchQuery=\"searchQuery\"\n      :postList=\"postList\"\n      @update:searchQuery=\"val => searchQuery = val\"\n      @searchResults=\"updateSearchResults\"\n    />\n    <!-- フィルタリングされたリストを PostItem に渡す -->\n    <div v-if=\"filteredPostList.length > 0\">\n      <PostItem :posts=\"filteredPostList\" />\n    </div>\n    <!-- 検索クエリがあり、かつ検索結果が0件のときだけ表示 -->\n    <p v-else-if=\"searchResults.length === 0 && searchQuery && searchQuery.length > 0\">\n      一致する投稿がありません。\n    </p>\n    <!-- 投稿機能 -->\n    <img :src=\"plusIcon\" alt=\"投稿ボタン\" class=\"plus-icon\" @click=\"toggleModal\" />\n    <PostFunctionModalDialog v-if=\"showModal\" :openModal=\"showModal\" @close=\"toggleModal\" @submitPost=\"addPost\"/>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed }       from \"vue\";\nimport PostSearchBar        from \"../components/PlojectSearchBar.vue\";\nimport PostItem                from \"../components/PostItem.vue\";\nimport PostFunctionModalDialog from \"../components/PostFunctionModalDialog.vue\";\nimport postData                from \"../postData\";\nimport plusIcon                from \"../assets/plus.svg\";\n\nconst postList      = ref(postData); // 初期投稿データを管理\nconst showModal     = ref(false);    // モーダルの表示状態を管理\nconst searchQuery   = ref(\"\");\nconst searchResults = ref([]);       // 検索結果を管理\n\n// 検索結果を更新する関数\nfunction updateSearchResults(results) {\n  searchResults.value = results || [];\n}\n\n// 検索クエリに基づいてフィルタリングされた投稿データを計算\nconst filteredPostList = computed(() => {\n  if (searchResults.value && searchResults.value.length > 0) {\n    return searchResults.value;\n  }\n  return postList.value || [];\n});\n\n// モーダルの表示/非表示を切り替える関数\nfunction toggleModal() {\n  showModal.value = !showModal.value;\n}\n\n// 新しい投稿データを追加する関数\nfunction addPost(newPost) {\n\n  // 新しい投稿データにユニークなIDを付与\n  const newPostId = postList.value.length > 0 ? Math.max(...postList.value.map(post => post.postId)) + 1 : 1;\n\n  const formattedPost = {\n    ...newPost,\n    postId       : newPostId, // ユニークなIDを設定\n    likeCount    : 0, // 初期の「いいね」数\n    isLiked      : false, // 初期の「いいね」状態\n    formattedDate: new Date().toLocaleDateString(\"ja-JP\", {\n      year       : \"numeric\",\n      month      : \"long\",\n      day        : \"numeric\",\n    }),\n  };\n\n  // postListをリアクティブに更新\n  postList.value.unshift(formattedPost);\n\n  // 検索結果が表示されている場合も即時反映\n  searchResults.value = [];\n\n  console.log(\"新しい投稿データが追加されました:\", formattedPost);\n}\n</script>\n\n<style scoped>\n.home {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 50px;\n  padding: 20px;\n}\n\n.plus-icon {\n  width: 130px;\n  height: 130px;\n  cursor: pointer;\n  position: fixed;\n  bottom: 100px;\n  right: 100px;\n  border-radius: 50%;\n  background-color: #3776a7; /* アイコンの背景色 */\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  z-index: 100;\n  transition: transform 0.2s ease;\n}\n\n.plus-icon:hover {\n  transform: scale(1.2); /* ホバー時に拡大 */\n}\n</style>\n"],"mappings":";;AAwBA,SAASA,GAAG,EAAEC,QAAQ,QAAc,KAAK;AACzC,OAAOC,aAAa,MAAa,oCAAoC;AACrE,OAAOC,QAAQ,MAAqB,4BAA4B;AAChE,OAAOC,uBAAuB,MAAM,2CAA2C;AAC/E,OAAOC,QAAQ,MAAqB,aAAa;AACjD,OAAOC,QAAQ,MAAqB,oBAAoB;;;;;;;IAExD,MAAMC,QAAQ,GAAQP,GAAG,CAACK,QAAQ,CAAC,CAAC,CAAC;IACrC,MAAMG,SAAS,GAAOR,GAAG,CAAC,KAAK,CAAC,CAAC,CAAI;IACrC,MAAMS,WAAW,GAAKT,GAAG,CAAC,EAAE,CAAC;IAC7B,MAAMU,aAAa,GAAGV,GAAG,CAAC,EAAE,CAAC,CAAC,CAAO;;IAErC;IACA,SAASW,mBAAmBA,CAACC,OAAO,EAAE;MACpCF,aAAa,CAACG,KAAK,GAAGD,OAAO,IAAI,EAAE;IACrC;;IAEA;IACA,MAAME,gBAAgB,GAAGb,QAAQ,CAAC,MAAM;MACtC,IAAIS,aAAa,CAACG,KAAK,IAAIH,aAAa,CAACG,KAAK,CAACE,MAAM,GAAG,CAAC,EAAE;QACzD,OAAOL,aAAa,CAACG,KAAK;MAC5B;MACA,OAAON,QAAQ,CAACM,KAAK,IAAI,EAAE;IAC7B,CAAC,CAAC;;IAEF;IACA,SAASG,WAAWA,CAAA,EAAG;MACrBR,SAAS,CAACK,KAAK,GAAG,CAACL,SAAS,CAACK,KAAK;IACpC;;IAEA;IACA,SAASI,OAAOA,CAACC,OAAO,EAAE;MAExB;MACA,MAAMC,SAAS,GAAGZ,QAAQ,CAACM,KAAK,CAACE,MAAM,GAAG,CAAC,GAAGK,IAAI,CAACC,GAAG,CAAC,GAAGd,QAAQ,CAACM,KAAK,CAACS,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC;MAE1G,MAAMC,aAAa,GAAG;QACpB,GAAGP,OAAO;QACVM,MAAM,EAASL,SAAS;QAAE;QAC1BO,SAAS,EAAM,CAAC;QAAE;QAClBC,OAAO,EAAQ,KAAK;QAAE;QACtBC,aAAa,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,OAAO,EAAE;UACpDC,IAAI,EAAS,SAAS;UACtBC,KAAK,EAAQ,MAAM;UACnBC,GAAG,EAAU;QACf,CAAC;MACH,CAAC;;MAED;MACA1B,QAAQ,CAACM,KAAK,CAACqB,OAAO,CAACT,aAAa,CAAC;;MAErC;MACAf,aAAa,CAACG,KAAK,GAAG,EAAE;MAExBsB,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEX,aAAa,CAAC;IACjD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}