{"ast":null,"code":"import { ref, computed } from \"vue\";\nimport SearchBar from \"../components/PSearchBar.vue\";\nimport PostItem from \"../components/PostItem.vue\";\nimport postData from \"../postData\";\nimport { searchAndLogApps } from \"../SteamWebAPI/SearchApps\"; // searchAndLogAppsをインポート\n\n// 投稿データを格納する変数\n\nexport default {\n  __name: 'HomeView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const postList = ref(postData); // postData を直接代入\n\n    // 検索結果を格納する変数\n    const searchResults = ref([]);\n\n    // 検索処理\n    async function handleSearch(query) {\n      if (!query) {\n        searchResults.value = []; // 検索クエリが空の場合は検索結果をクリア\n        return;\n      }\n      try {\n        const results = await searchAndLogApps(query); // searchAndLogApps関数を呼び出し\n        searchResults.value = results || []; // 検索結果が空の場合は空配列を設定\n      } catch (error) {\n        console.error(\"検索中にエラーが発生しました:\", error);\n        searchResults.value = []; // エラー時も空配列を設定\n      }\n    }\n\n    // 検索クエリに基づいてフィルタリングされた投稿データを計算\n    const filteredPostList = computed(() => {\n      if (searchResults.value && searchResults.value.length > 0) {\n        return searchResults.value; // 検索結果がある場合は検索結果を表示\n      }\n      return postList.value; // 検索結果がない場合はpostDataを表示\n    });\n    const __returned__ = {\n      postList,\n      searchResults,\n      handleSearch,\n      filteredPostList,\n      ref,\n      computed,\n      SearchBar,\n      PostItem,\n      get postData() {\n        return postData;\n      },\n      get searchAndLogApps() {\n        return searchAndLogApps;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","SearchBar","PostItem","postData","searchAndLogApps","postList","searchResults","handleSearch","query","value","results","error","console","filteredPostList","length"],"sources":["/Users/namako-mac/mysite/game-introduction/src/views/HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <!-- 検索バーコンポーネント -->\n    <SearchBar @search=\"handleSearch\" />\n    <!-- フィルタリングされたリストを PostItem に渡す -->\n    <div v-if=\"filteredPostList.length > 0\">\n      <PostItem :posts=\"filteredPostList\" />\n    </div>\n    <p v-else>一致する投稿がありません。</p>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from \"vue\";\nimport SearchBar from \"../components/PSearchBar.vue\";\nimport PostItem from \"../components/PostItem.vue\";\nimport postData from \"../postData\";\nimport { searchAndLogApps } from \"../SteamWebAPI/SearchApps\"; // searchAndLogAppsをインポート\n\n// 投稿データを格納する変数\nconst postList = ref(postData); // postData を直接代入\n\n// 検索結果を格納する変数\nconst searchResults = ref([]);\n\n// 検索処理\nasync function handleSearch(query) {\n  if (!query) {\n    searchResults.value = []; // 検索クエリが空の場合は検索結果をクリア\n    return;\n  }\n\n  try {\n    const results = await searchAndLogApps(query); // searchAndLogApps関数を呼び出し\n    searchResults.value = results || []; // 検索結果が空の場合は空配列を設定\n  } catch (error) {\n    console.error(\"検索中にエラーが発生しました:\", error);\n    searchResults.value = []; // エラー時も空配列を設定\n  }\n}\n\n// 検索クエリに基づいてフィルタリングされた投稿データを計算\nconst filteredPostList = computed(() => {\n  if (searchResults.value && searchResults.value.length > 0) {\n    return searchResults.value; // 検索結果がある場合は検索結果を表示\n  }\n  return postList.value; // 検索結果がない場合はpostDataを表示\n});\n</script>\n\n<style scoped>\n.home {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 50px;\n  padding: 20px;\n}\n</style>\n"],"mappings":"AAaA,SAASA,GAAG,EAAEC,QAAQ,QAAQ,KAAK;AACnC,OAAOC,SAAS,MAAM,8BAA8B;AACpD,OAAOC,QAAQ,MAAM,4BAA4B;AACjD,OAAOC,QAAQ,MAAM,aAAa;AAClC,SAASC,gBAAgB,QAAQ,2BAA2B,CAAC,CAAC;;AAE9D;;;;;;;;IACA,MAAMC,QAAQ,GAAGN,GAAG,CAACI,QAAQ,CAAC,CAAC,CAAC;;IAEhC;IACA,MAAMG,aAAa,GAAGP,GAAG,CAAC,EAAE,CAAC;;IAE7B;IACA,eAAeQ,YAAYA,CAACC,KAAK,EAAE;MACjC,IAAI,CAACA,KAAK,EAAE;QACVF,aAAa,CAACG,KAAK,GAAG,EAAE,CAAC,CAAC;QAC1B;MACF;MAEA,IAAI;QACF,MAAMC,OAAO,GAAG,MAAMN,gBAAgB,CAACI,KAAK,CAAC,CAAC,CAAC;QAC/CF,aAAa,CAACG,KAAK,GAAGC,OAAO,IAAI,EAAE,CAAC,CAAC;MACvC,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;QACvCL,aAAa,CAACG,KAAK,GAAG,EAAE,CAAC,CAAC;MAC5B;IACF;;IAEA;IACA,MAAMI,gBAAgB,GAAGb,QAAQ,CAAC,MAAM;MACtC,IAAIM,aAAa,CAACG,KAAK,IAAIH,aAAa,CAACG,KAAK,CAACK,MAAM,GAAG,CAAC,EAAE;QACzD,OAAOR,aAAa,CAACG,KAAK,CAAC,CAAC;MAC9B;MACA,OAAOJ,QAAQ,CAACI,KAAK,CAAC,CAAC;IACzB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}