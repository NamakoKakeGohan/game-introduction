{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { ref, computed } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport QuestionCard from \"../components/QuestionCard.vue\";\nimport questionData from \"../data/questionData.js\";\n\n// スコア状態\n\nexport default {\n  __name: 'TestView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const scores = ref({\n      アクション: 0,\n      カードゲーム: 0,\n      格闘: 0,\n      RPG: 0,\n      シューテーング: 0,\n      アドベンチャー: 0,\n      レース: 0,\n      シュミレーション: 0\n    });\n\n    // 質問インデックス\n    const currentIndex = ref(0);\n    const router = useRouter();\n\n    // 現在の質問\n    const currentQuestion = computed(() => questionData[currentIndex.value]);\n\n    // 選択されたジャンルにスコアを加算し、次の質問または結果に遷移\n    function handleSelect(selectedGenres) {\n      selectedGenres.forEach(genre => {\n        if (scores.value[genre] !== undefined) {\n          scores.value[genre]++;\n        }\n      });\n      if (currentIndex.value < questionda.length - 1) {\n        currentIndex.value++;\n      } else {\n        const topGenre = Object.entries(scores.value).sort((a, b) => b[1] - a[1])[0][0];\n        router.push({\n          name: \"DiagnosisResult\",\n          query: {\n            genre: topGenre\n          }\n        });\n      }\n    }\n    const __returned__ = {\n      scores,\n      currentIndex,\n      router,\n      currentQuestion,\n      handleSelect,\n      ref,\n      computed,\n      get useRouter() {\n        return useRouter;\n      },\n      QuestionCard,\n      get questionData() {\n        return questionData;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","useRouter","QuestionCard","questionData","scores","アクション","カードゲーム","格闘","RPG","シューテーング","アドベンチャー","レース","シュミレーション","currentIndex","router","currentQuestion","value","handleSelect","selectedGenres","forEach","genre","undefined","questionda","length","topGenre","Object","entries","sort","a","b","push","name","query"],"sources":["/Users/namako-mac/mysite/game-introduction/src/views/TestView.vue"],"sourcesContent":["<template>\n  <div class=\"diagnosis-page\">\n    <QuestionCard\n      v-if=\"currentQuestion\"\n      :question=\"currentQuestion\"\n      :questionNumber=\"currentIndex + 1\"\n      @select=\"handleSelect\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport QuestionCard from \"../components/QuestionCard.vue\";\nimport questionData from \"../data/questionData.js\";\n\n// スコア状態\nconst scores = ref({\n  アクション: 0,\n  カードゲーム: 0,\n  格闘: 0,\n  RPG: 0,\n  シューテーング: 0,\n  アドベンチャー: 0,\n  レース: 0,\n  シュミレーション: 0,\n});\n\n// 質問インデックス\nconst currentIndex = ref(0);\nconst router = useRouter();\n\n// 現在の質問\nconst currentQuestion = computed(() => questionData[currentIndex.value]);\n\n// 選択されたジャンルにスコアを加算し、次の質問または結果に遷移\nfunction handleSelect(selectedGenres) {\n  selectedGenres.forEach((genre) => {\n    if (scores.value[genre] !== undefined) {\n      scores.value[genre]++;\n    }\n  });\n\n  if (currentIndex.value < questionda.length - 1) {\n    currentIndex.value++;\n  } else {\n    const topGenre = Object.entries(scores.value).sort((a, b) => b[1] - a[1])[0][0];\n    router.push({ name: \"DiagnosisResult\", query: { genre: topGenre } });\n  }\n}\n</script>\n"],"mappings":";;;AAYA,SAASA,GAAG,EAAEC,QAAQ,QAAQ,KAAK;AACnC,SAASC,SAAS,QAAQ,YAAY;AACtC,OAAOC,YAAY,MAAM,gCAAgC;AACzD,OAAOC,YAAY,MAAM,yBAAyB;;AAElD;;;;;;;;IACA,MAAMC,MAAM,GAAGL,GAAG,CAAC;MACjBM,KAAK,EAAE,CAAC;MACRC,MAAM,EAAE,CAAC;MACTC,EAAE,EAAE,CAAC;MACLC,GAAG,EAAE,CAAC;MACNC,OAAO,EAAE,CAAC;MACVC,OAAO,EAAE,CAAC;MACVC,GAAG,EAAE,CAAC;MACNC,QAAQ,EAAE;IACZ,CAAC,CAAC;;IAEF;IACA,MAAMC,YAAY,GAAGd,GAAG,CAAC,CAAC,CAAC;IAC3B,MAAMe,MAAM,GAAGb,SAAS,CAAC,CAAC;;IAE1B;IACA,MAAMc,eAAe,GAAGf,QAAQ,CAAC,MAAMG,YAAY,CAACU,YAAY,CAACG,KAAK,CAAC,CAAC;;IAExE;IACA,SAASC,YAAYA,CAACC,cAAc,EAAE;MACpCA,cAAc,CAACC,OAAO,CAAEC,KAAK,IAAK;QAChC,IAAIhB,MAAM,CAACY,KAAK,CAACI,KAAK,CAAC,KAAKC,SAAS,EAAE;UACrCjB,MAAM,CAACY,KAAK,CAACI,KAAK,CAAC,EAAE;QACvB;MACF,CAAC,CAAC;MAEF,IAAIP,YAAY,CAACG,KAAK,GAAGM,UAAU,CAACC,MAAM,GAAG,CAAC,EAAE;QAC9CV,YAAY,CAACG,KAAK,EAAE;MACtB,CAAC,MAAM;QACL,MAAMQ,QAAQ,GAAGC,MAAM,CAACC,OAAO,CAACtB,MAAM,CAACY,KAAK,CAAC,CAACW,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAAC,CAAC,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/Ed,MAAM,CAACgB,IAAI,CAAC;UAAEC,IAAI,EAAE,iBAAiB;UAAEC,KAAK,EAAE;YAAEZ,KAAK,EAAEI;UAAS;QAAE,CAAC,CAAC;MACtE;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}