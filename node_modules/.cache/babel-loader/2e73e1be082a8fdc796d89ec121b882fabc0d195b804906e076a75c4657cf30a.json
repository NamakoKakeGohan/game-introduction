{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"diagnosis-page\"\n};\nexport function render(_ctx, _cache) {\n  const _component_QuestionCard = _resolveComponent(\"QuestionCard\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_ctx.currentQuestion ? (_openBlock(), _createBlock(_component_QuestionCard, {\n    key: 0,\n    question: _ctx.currentQuestion,\n    questionNumber: _ctx.currentIndex + 1,\n    onSelect: _ctx.handleSelect\n  }, null, 8 /* PROPS */, [\"question\", \"questionNumber\", \"onSelect\"])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_ctx","currentQuestion","_createBlock","_component_QuestionCard","key","question","questionNumber","currentIndex","onSelect","handleSelect","_createCommentVNode"],"sources":["/Users/namako-mac/mysite/game-introduction/src/views/TestView.vue"],"sourcesContent":["<template>\n  <div class=\"diagnosis-page\">\n    <QuestionCard\n      v-if=\"currentQuestion\"\n      :question=\"currentQuestion\"\n      :questionNumber=\"currentIndex + 1\"\n      @select=\"handleSelect\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from \"vue\";\nimport { useRouter }     from \"vue-router\";\nimport QuestionCard      from \"../components/QuestionCard.vue\";\nimport questionData      from \"../data/questionData.js\";\n\n// スコア状態\nconst scores = ref({\n  アクション: 0,\n  カードゲーム: 0,\n  格闘: 0,\n  RPG: 0,\n  シューテーング: 0,\n  アドベンチャー: 0,\n  レース: 0,\n  シュミレーション: 0,\n});\n\n// 質問インデックス\nconst currentIndex = ref(0);\nconst router = useRouter();\n\n// 現在の質問\nconst currentQuestion = computed(() => questionData[currentIndex.value]);\n\n// 選択されたジャンルにスコアを加算し、次の質問または結果に遷移 handleSelect(selectedGenres) {\n  selectedGenres.forEach((genre) => {\n    if (scores.value[genre] !== undefined) {\n      scores.value[genre]++;\n    }\n  });\n\n  if (currentIndex.value < questionData.length - 1) {\n    currentIndex.value++;\n  } else {\n    const topGenre = Object.entries(scores.value).sort((a, b) => b[1] - a[1])[0][0];\n    router.push({ name: \"TestResultVIew\", query: { genre: topGenre } });\n  }\n}\n</script>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAgB;;;uBAA3BC,mBAAA,CAOM,OAPNC,UAOM,GALIC,IAAA,CAAAC,eAAe,I,cADvBC,YAAA,CAKEC,uBAAA;IAPNC,GAAA;IAIOC,QAAQ,EAAEL,IAAA,CAAAC,eAAe;IACzBK,cAAc,EAAEN,IAAA,CAAAO,YAAY;IAC5BC,QAAM,EAAER,IAAA,CAAAS;yEANfC,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}