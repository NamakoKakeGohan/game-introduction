{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"account\"\n};\nconst _hoisted_2 = {\n  class: \"user-info\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  class: \"user-name\"\n};\nconst _hoisted_5 = {\n  class: \"user-id\"\n};\nconst _hoisted_6 = {\n  class: \"tab-toggle\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"post-list\"\n};\nconst _hoisted_8 = {\n  key: 1,\n  class: \"post-list\"\n};\nimport { ref, reactive, computed, watchEffect } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport PostItem from \"../components/PostItem.vue\";\nimport postData from \"../postData\";\nimport defaultIcon from \"../assets/userAvatar.png\";\nexport default {\n  __name: 'AccountView',\n  setup(__props) {\n    const activeTab = ref(\"accountPosts\"); // タブ切り替え状態\n    const route = useRoute(); // ルートパラメータから id を取得\n    const router = useRouter();\n    const posts = reactive(postData); // 投稿データをリアクティブに管理\n    // ユーザーIDを取得（なければnull）\n    const userId = route.params.id ? Number(route.params.id) : null;\n\n    // 該当ユーザーの投稿をフィルタリング\n    const userPosts = computed(() => posts.filter(post => post.user.id === userId));\n    // 「いいね」した投稿をフィルタリング\n    const likedPosts = computed(() => posts.filter(post => post.isLiked));\n\n    // 最初の投稿からユーザー情報を取得（なければデフォルト）\n    const user = computed(() => {\n      const firstPost = userPosts.value[0];\n      if (firstPost) {\n        return {\n          id: firstPost.user.id,\n          name: firstPost.user.name,\n          icon: firstPost.user.avatar\n        };\n      } else {\n        return {\n          id: 255,\n          name: \"ゲスト\",\n          icon: defaultIcon\n        };\n      }\n    });\n    watchEffect(() => {\n      // ユーザーが見つからず、かつ現在のuserIdが255でなければ /255 へリダイレクト\n      if (!userPosts.value.length && userId !== 255) {\n        router.replace({\n          name: \"Account\",\n          params: {\n            id: 255\n          }\n        });\n      }\n    });\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"img\", {\n        src: user.value.icon,\n        alt: \"User Icon\",\n        class: \"user-icon\"\n      }, null, 8, _hoisted_3), _createElementVNode(\"div\", null, [_createElementVNode(\"h1\", _hoisted_4, _toDisplayString(user.value.name), 1), _createElementVNode(\"p\", _hoisted_5, \"@\" + _toDisplayString(user.value.id), 1)])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"button\", {\n        class: _normalizeClass({\n          active: activeTab.value === 'accountPosts'\n        }),\n        onClick: _cache[0] || (_cache[0] = $event => activeTab.value = 'accountPosts')\n      }, \" 投稿 \", 2), _createElementVNode(\"button\", {\n        class: _normalizeClass({\n          active: activeTab.value === 'likes'\n        }),\n        onClick: _cache[1] || (_cache[1] = $event => activeTab.value = 'likes')\n      }, \" いいね \", 2)]), activeTab.value === 'accountPosts' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createVNode(PostItem, {\n        posts: userPosts.value\n      }, null, 8, [\"posts\"])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createVNode(PostItem, {\n        posts: likedPosts.value\n      }, null, 8, [\"posts\"])]))]);\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","computed","watchEffect","useRoute","useRouter","PostItem","postData","defaultIcon","activeTab","route","router","posts","userId","params","id","Number","userPosts","filter","post","user","likedPosts","isLiked","firstPost","value","name","icon","avatar","length","replace"],"sources":["/Users/namako-mac/mysite/game-introduction/src/views/AccountView.vue"],"sourcesContent":["<template>\n  <div class=\"account\">\n    <!-- ユーザー情報 -->\n    <div class=\"user-info\">\n      <img :src=\"user.icon\" alt=\"User Icon\" class=\"user-icon\" />\n      <div>\n        <h1 class=\"user-name\">{{ user.name }}</h1>\n        <p class=\"user-id\">@{{ user.id }}</p>\n      </div>\n    </div>\n    <!-- タブ切り替え -->\n    <div class=\"tab-toggle\">\n      <button\n        :class=\"{ active: activeTab === 'accountPosts' }\"\n        @click=\"activeTab = 'accountPosts'\"\n      >\n        投稿\n      </button>\n      <button\n        :class=\"{ active: activeTab === 'likes' }\"\n        @click=\"activeTab = 'likes'\"\n      >\n        いいね\n      </button>\n    </div>\n    <!-- 投稿表示 -->\n    <div v-if=\"activeTab === 'accountPosts'\" class=\"post-list\">\n      <PostItem :posts=\"userPosts\" />\n    </div>\n    <div v-else class=\"post-list\">\n      <PostItem :posts=\"likedPosts\" />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, computed, watchEffect } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport PostItem from \"../components/PostItem.vue\";\nimport postData from \"../postData\";\nimport defaultIcon from \"../assets/userAvatar.png\";\n\nconst activeTab = ref(\"accountPosts\");// タブ切り替え状態\nconst route     = useRoute();         // ルートパラメータから id を取得\nconst router    = useRouter();\nconst posts     = reactive(postData); // 投稿データをリアクティブに管理\n// ユーザーIDを取得（なければnull）\nconst userId    = route.params.id ? Number(route.params.id) : null;\n\n// 該当ユーザーの投稿をフィルタリング\nconst userPosts  = computed(() => posts.filter((post) => post.user.id === userId));\n// 「いいね」した投稿をフィルタリング\nconst likedPosts = computed(() => posts.filter((post) => post.isLiked));\n\n// 最初の投稿からユーザー情報を取得（なければデフォルト）\nconst user = computed(() => {\n  const firstPost = userPosts.value[0];\n  if (firstPost) {\n    return {\n      id  : firstPost.user.id,\n      name: firstPost.user.name,\n      icon: firstPost.user.avatar,\n    };\n  } else {\n    return {\n      id  : 255,\n      name: \"ゲスト\",\n      icon: defaultIcon,\n    };\n  }\n});\n\nwatchEffect(() => {\n  // ユーザーが見つからず、かつ現在のuserIdが255でなければ /255 へリダイレクト\n  if (!userPosts.value.length && userId !== 255) {\n    router.replace({ name: \"Account\", params: { id: 255 } });\n  }\n});\n</script>\n\n<style scoped>\n.account {\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n}\n\n.user-info {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 15px;\n  margin-bottom: 15px;\n}\n\n.user-icon {\n  width: 70px;\n  height: 70px;\n  border-radius: 50%;\n}\n\n.user-name {\n  font-size: 2rem;\n  font-weight: bold;\n  margin: 0;\n}\n\n.user-id {\n  color: #657786;\n  font-size: 0.9rem;\n  margin: 2px 0 0;\n}\n\n.tab-toggle {\n  display: flex;\n  justify-content: center;\n  gap: 20px;\n  margin-bottom: 15px;\n  border-bottom: 1px solid #ccc;\n}\n\n.tab-toggle button {\n  background: none;\n  border: none;\n  padding: 10px 20px;\n  font-size: 1.5rem;\n  cursor: pointer;\n  color: #657786;\n  border-bottom: 2px solid transparent;\n  transition: all 0.3s ease;\n}\n\n.tab-toggle button.active {\n  color: #1da1f2;\n  border-color: #1da1f2;\n  font-weight: bold;\n}\n\n.post-list {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 15px;\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,KAAK;AAC1D,SAASC,QAAQ,EAAEC,SAAS,QAAQ,YAAY;AAChD,OAAOC,QAAQ,MAAM,4BAA4B;AACjD,OAAOC,QAAQ,MAAM,aAAa;AAClC,OAAOC,WAAW,MAAM,0BAA0B;;;;IAElD,MAAMC,SAAS,GAAGT,GAAG,CAAC,cAAc,CAAC,CAAC;IACtC,MAAMU,KAAK,GAAON,QAAQ,CAAC,CAAC,CAAC,CAAS;IACtC,MAAMO,MAAM,GAAMN,SAAS,CAAC,CAAC;IAC7B,MAAMO,KAAK,GAAOX,QAAQ,CAACM,QAAQ,CAAC,CAAC,CAAC;IACtC;IACA,MAAMM,MAAM,GAAMH,KAAK,CAACI,MAAM,CAACC,EAAE,GAAGC,MAAM,CAACN,KAAK,CAACI,MAAM,CAACC,EAAE,CAAC,GAAG,IAAI;;IAElE;IACA,MAAME,SAAS,GAAIf,QAAQ,CAAC,MAAMU,KAAK,CAACM,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,IAAI,CAACL,EAAE,KAAKF,MAAM,CAAC,CAAC;IAClF;IACA,MAAMQ,UAAU,GAAGnB,QAAQ,CAAC,MAAMU,KAAK,CAACM,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACG,OAAO,CAAC,CAAC;;IAEvE;IACA,MAAMF,IAAI,GAAGlB,QAAQ,CAAC,MAAM;MAC1B,MAAMqB,SAAS,GAAGN,SAAS,CAACO,KAAK,CAAC,CAAC,CAAC;MACpC,IAAID,SAAS,EAAE;QACb,OAAO;UACLR,EAAE,EAAIQ,SAAS,CAACH,IAAI,CAACL,EAAE;UACvBU,IAAI,EAAEF,SAAS,CAACH,IAAI,CAACK,IAAI;UACzBC,IAAI,EAAEH,SAAS,CAACH,IAAI,CAACO;QACvB,CAAC;MACH,CAAC,MAAM;QACL,OAAO;UACLZ,EAAE,EAAI,GAAG;UACTU,IAAI,EAAE,KAAK;UACXC,IAAI,EAAElB;QACR,CAAC;MACH;IACF,CAAC,CAAC;IAEFL,WAAW,CAAC,MAAM;MAChB;MACA,IAAI,CAACc,SAAS,CAACO,KAAK,CAACI,MAAM,IAAIf,MAAM,KAAK,GAAG,EAAE;QAC7CF,MAAM,CAACkB,OAAO,CAAC;UAAEJ,IAAI,EAAE,SAAS;UAAEX,MAAM,EAAE;YAAEC,EAAE,EAAE;UAAI;QAAE,CAAC,CAAC;MAC1D;IACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}