{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { searchAppByName, fetchPostData } from \"./SteamWebAPI\";\n\n/**\n * 検索機能を呼び出して結果を出力します。\n * @param {string} query 検索クエリ（アプリ名）\n */\nexport async function searchAndLogApps(query) {\n  try {\n    // アプリ名で検索\n    const results = await searchAppByName(query);\n\n    // 検索結果を頭文字で絞り込み\n    const filteredResults = results.filter(app => app.name.toLowerCase().startsWith(query.toLowerCase()));\n\n    // 検索結果から最大150件のAppIDを抽出\n    const appIds = filteredResults.slice(0, 150).map(app => app.appid);\n\n    // アプリIDを基にpostData形式に変換\n    const postData = await fetchPostData(appIds);\n\n    // reviewCountで降順ソート\n    const sortedPostData = postData.sort((a, b) => b.reviewCount - a.reviewCount);\n\n    // 上位10件を出力\n    const topResults = sortedPostData.slice(0, 10);\n    console.log(\"検索結果（レビュー数上位10件）:\", topResults);\n  } catch (error) {\n    console.error(\"検索中にエラーが発生しました:\", error);\n  }\n}","map":{"version":3,"names":["searchAppByName","fetchPostData","searchAndLogApps","query","results","filteredResults","filter","app","name","toLowerCase","startsWith","appIds","slice","map","appid","postData","sortedPostData","sort","a","b","reviewCount","topResults","console","log","error"],"sources":["/Users/namako-mac/mysite/game-introduction/src/SteamWebAPI/SearchApps.js"],"sourcesContent":["import { searchAppByName, fetchPostData } from \"./SteamWebAPI\";\n\n/**\n * 検索機能を呼び出して結果を出力します。\n * @param {string} query 検索クエリ（アプリ名）\n */\nexport async function searchAndLogApps(query) {\n  try {\n    // アプリ名で検索\n    const results = await searchAppByName(query);\n\n    // 検索結果を頭文字で絞り込み\n    const filteredResults = results.filter((app) =>\n      app.name.toLowerCase().startsWith(query.toLowerCase())\n    );\n\n    // 検索結果から最大150件のAppIDを抽出\n    const appIds = filteredResults.slice(0, 150).map((app) => app.appid);\n\n    // アプリIDを基にpostData形式に変換\n    const postData = await fetchPostData(appIds);\n\n    // reviewCountで降順ソート\n    const sortedPostData = postData.sort(\n      (a, b) => b.reviewCount - a.reviewCount\n    );\n\n    // 上位10件を出力\n    const topResults = sortedPostData.slice(0, 10);\n    console.log(\"検索結果（レビュー数上位10件）:\", topResults);\n  } catch (error) {\n    console.error(\"検索中にエラーが発生しました:\", error);\n  }\n}\n"],"mappings":";;;AAAA,SAASA,eAAe,EAAEC,aAAa,QAAQ,eAAe;;AAE9D;AACA;AACA;AACA;AACA,OAAO,eAAeC,gBAAgBA,CAACC,KAAK,EAAE;EAC5C,IAAI;IACF;IACA,MAAMC,OAAO,GAAG,MAAMJ,eAAe,CAACG,KAAK,CAAC;;IAE5C;IACA,MAAME,eAAe,GAAGD,OAAO,CAACE,MAAM,CAAEC,GAAG,IACzCA,GAAG,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,UAAU,CAACP,KAAK,CAACM,WAAW,CAAC,CAAC,CACvD,CAAC;;IAED;IACA,MAAME,MAAM,GAAGN,eAAe,CAACO,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAACC,GAAG,CAAEN,GAAG,IAAKA,GAAG,CAACO,KAAK,CAAC;;IAEpE;IACA,MAAMC,QAAQ,GAAG,MAAMd,aAAa,CAACU,MAAM,CAAC;;IAE5C;IACA,MAAMK,cAAc,GAAGD,QAAQ,CAACE,IAAI,CAClC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACC,WAAW,GAAGF,CAAC,CAACE,WAC9B,CAAC;;IAED;IACA,MAAMC,UAAU,GAAGL,cAAc,CAACJ,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;IAC9CU,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEF,UAAU,CAAC;EAC9C,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdF,OAAO,CAACE,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;EACzC;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}