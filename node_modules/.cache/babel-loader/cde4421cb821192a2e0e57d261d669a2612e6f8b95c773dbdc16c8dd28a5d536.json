{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { searchAppByName, fetchPostDataReversed } from \"./SteamWebAPI\";\n\n/**\n * 検索機能を呼び出して結果を出力します。\n * @param {string} query 検索クエリ（アプリ名）\n */\nexport async function searchAndLogApps(query) {\n  try {\n    // アプリ名で検索\n    const results = await searchAppByName(query);\n\n    // 検索結果を頭文字で絞り込み\n    const filteredApps = appList.filter(app => +!/(\\bDemo\\b|体験版|DLC)/i.test(app.name) &&\n    // ★追加：除外条件\n    app.name.toLowerCase().includes(query.toLowerCase()));\n\n    // 検索結果を上位10件に制限\n    const topResults = filteredResults.slice(0, 10);\n    console.log(\"検索結果（上位10件）:\", topResults);\n\n    // アプリIDを基にpostData形式に変換\n    const appIds = topResults.map(app => app.appid);\n    const postData = await fetchPostDataReversed(appIds);\n    console.log(\"postData形式のデータ（上位10件）:\", postData);\n    return postData; // postData形式のデータを返す\n  } catch (error) {\n    console.error(\"postData形式への変換中にエラーが発生しました:\", error);\n    return [];\n  }\n}","map":{"version":3,"names":["searchAppByName","fetchPostDataReversed","searchAndLogApps","query","results","filteredApps","appList","filter","app","test","name","toLowerCase","includes","topResults","filteredResults","slice","console","log","appIds","map","appid","postData","error"],"sources":["/Users/namako-mac/mysite/game-introduction/src/SteamWebAPI/SearchApps.js"],"sourcesContent":["import { searchAppByName, fetchPostDataReversed } from \"./SteamWebAPI\";\n\n/**\n * 検索機能を呼び出して結果を出力します。\n * @param {string} query 検索クエリ（アプリ名）\n */\nexport async function searchAndLogApps(query) {\n  try {\n    // アプリ名で検索\n    const results = await searchAppByName(query);\n\n    // 検索結果を頭文字で絞り込み\n    const filteredApps = appList.filter(\n      (app) =>\n        +!/(\\bDemo\\b|体験版|DLC)/i.test(app.name) && // ★追加：除外条件\n        app.name.toLowerCase().includes(query.toLowerCase())\n    );\n\n    // 検索結果を上位10件に制限\n    const topResults = filteredResults.slice(0, 10);\n    console.log(\"検索結果（上位10件）:\", topResults);\n\n    // アプリIDを基にpostData形式に変換\n    const appIds = topResults.map((app) => app.appid);\n    const postData = await fetchPostDataReversed(appIds);\n    console.log(\"postData形式のデータ（上位10件）:\", postData);\n    return postData; // postData形式のデータを返す\n  } catch (error) {\n    console.error(\"postData形式への変換中にエラーが発生しました:\", error);\n    return [];\n  }\n}\n"],"mappings":";;;AAAA,SAASA,eAAe,EAAEC,qBAAqB,QAAQ,eAAe;;AAEtE;AACA;AACA;AACA;AACA,OAAO,eAAeC,gBAAgBA,CAACC,KAAK,EAAE;EAC5C,IAAI;IACF;IACA,MAAMC,OAAO,GAAG,MAAMJ,eAAe,CAACG,KAAK,CAAC;;IAE5C;IACA,MAAME,YAAY,GAAGC,OAAO,CAACC,MAAM,CAChCC,GAAG,IACF,CAAC,CAAC,qBAAqB,CAACC,IAAI,CAACD,GAAG,CAACE,IAAI,CAAC;IAAI;IAC1CF,GAAG,CAACE,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACT,KAAK,CAACQ,WAAW,CAAC,CAAC,CACvD,CAAC;;IAED;IACA,MAAME,UAAU,GAAGC,eAAe,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;IAC/CC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEJ,UAAU,CAAC;;IAEvC;IACA,MAAMK,MAAM,GAAGL,UAAU,CAACM,GAAG,CAAEX,GAAG,IAAKA,GAAG,CAACY,KAAK,CAAC;IACjD,MAAMC,QAAQ,GAAG,MAAMpB,qBAAqB,CAACiB,MAAM,CAAC;IACpDF,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEI,QAAQ,CAAC;IAC/C,OAAOA,QAAQ,CAAC,CAAC;EACnB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdN,OAAO,CAACM,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACnD,OAAO,EAAE;EACX;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}