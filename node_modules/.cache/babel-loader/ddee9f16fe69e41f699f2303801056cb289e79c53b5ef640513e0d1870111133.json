{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport { ref, reactive, computed } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport PostItem from \"../components/PostItem.vue\";\nimport postData from \"../postData\";\nimport defaultIcon from \"../assets/userAvatar.png\";\n\n// タブ切り替え状態\n\nexport default {\n  __name: 'PostFunctionModalDialog',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const activeTab = ref(\"accountPosts\");\n\n    // ルートパラメータから id を取得\n    const route = useRoute();\n    const router = useRouter();\n    const userId = route.params.id ? Number(route.params.id) : null;\n    const posts = reactive(postData);\n\n    // ユーザー名検索用\n    const searchUserName = ref(\"\");\n\n    // 該当ユーザーの投稿をフィルタリング\n    const userPosts = computed(() => posts.filter(post => post.user.id === userId));\n    // 「いいね」した投稿をフィルタリング\n    const likedPosts = computed(() => posts.filter(post => post.isLiked));\n\n    // 最初の投稿からユーザー情報を取得（なければnull）\n    const user = computed(() => {\n      const firstPost = userPosts.value[0];\n      if (firstPost) {\n        return {\n          id: firstPost.user.id,\n          name: firstPost.user.name,\n          icon: firstPost.user.avatar\n        };\n      } else {\n        return null;\n      }\n    });\n\n    // ユーザーが見つかったかどうか\n    const userFound = computed(() => !!user.value);\n\n    // ユーザー名で検索して該当ユーザーのページへ遷移\n    function searchUser() {\n      if (!searchUserName.value) return;\n      const found = posts.find(post => post.user.name === searchUserName.value);\n      if (found) {\n        router.push({\n          name: \"Account\",\n          params: {\n            id: found.user.id\n          }\n        });\n      } else {\n        alert(\"該当するユーザーが見つかりませんでした。\");\n      }\n    }\n    const __returned__ = {\n      activeTab,\n      route,\n      router,\n      userId,\n      posts,\n      searchUserName,\n      userPosts,\n      likedPosts,\n      user,\n      userFound,\n      searchUser,\n      ref,\n      reactive,\n      computed,\n      get useRoute() {\n        return useRoute;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      PostItem,\n      get postData() {\n        return postData;\n      },\n      get defaultIcon() {\n        return defaultIcon;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","reactive","computed","useRoute","useRouter","PostItem","postData","defaultIcon","activeTab","route","router","userId","params","id","Number","posts","searchUserName","userPosts","filter","post","user","likedPosts","isLiked","firstPost","value","name","icon","avatar","userFound","searchUser","found","find","push","alert"],"sources":["/Users/namako-mac/mysite/game-introduction/src/components/PostFunctionModalDialog.vue"],"sourcesContent":["<!-- AccountView.vue -->\n<template>\n  <div class=\"account\">\n    <!-- ユーザー情報 -->\n    <div class=\"user-info\">\n      <div v-if=\"userFound\">\n        <img :src=\"user.icon\" alt=\"User Icon\" class=\"user-icon\" />\n        <div>\n          <h1 class=\"user-name\">{{ user.name }}</h1>\n          <p class=\"user-id\">@{{ user.id }}</p>\n        </div>\n      </div>\n      <!-- 検索バーのみ表示（ユーザーが見つからない場合） -->\n      <div v-else class=\"user-search-bar\">\n        <input\n          v-model=\"searchUserName\"\n          type=\"text\"\n          placeholder=\"ユーザー名で検索\"\n          class=\"user-search-input\"\n        />\n        <button @click=\"searchUser\" class=\"user-search-btn\">検索</button>\n      </div>\n    </div>\n    <!-- タブ切り替え -->\n    <div v-if=\"userFound\" class=\"tab-toggle\">\n      <button\n        :class=\"{ active: activeTab === 'accountPosts' }\"\n        @click=\"activeTab = 'accountPosts'\"\n      >\n        投稿\n      </button>\n      <button\n        :class=\"{ active: activeTab === 'likes' }\"\n        @click=\"activeTab = 'likes'\"\n      >\n        いいね\n      </button>\n    </div>\n    <!-- 投稿表示 -->\n    <div v-if=\"userFound && activeTab === 'accountPosts'\" class=\"post-list\">\n      <PostItem :posts=\"userPosts\" />\n    </div>\n    <div v-if=\"userFound && activeTab === 'likes'\" class=\"post-list\">\n      <PostItem :posts=\"likedPosts\" />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, computed } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport PostItem from \"../components/PostItem.vue\";\nimport postData from \"../postData\";\nimport defaultIcon from \"../assets/userAvatar.png\";\n\n// タブ切り替え状態\nconst activeTab = ref(\"accountPosts\");\n\n// ルートパラメータから id を取得\nconst route  = useRoute();\nconst router = useRouter();\nconst userId = route.params.id ? Number(route.params.id) : null;\nconst posts  = reactive(postData);\n\n// ユーザー名検索用\nconst searchUserName = ref(\"\");\n\n// 該当ユーザーの投稿をフィルタリング\nconst userPosts = computed(() =>\n  posts.filter((post) => post.user.id === userId)\n);\n// 「いいね」した投稿をフィルタリング\nconst likedPosts = computed(() => posts.filter((post) => post.isLiked));\n\n// 最初の投稿からユーザー情報を取得（なければnull）\nconst user = computed(() => {\n  const firstPost = userPosts.value[0];\n  if (firstPost) {\n    return {\n      id  : firstPost.user.id,\n      name: firstPost.user.name,\n      icon: firstPost.user.avatar,\n    };\n  } else {\n    return null;\n  }\n});\n\n// ユーザーが見つかったかどうか\nconst userFound = computed(() => !!user.value);\n\n// ユーザー名で検索して該当ユーザーのページへ遷移\nfunction searchUser() {\n  if (!searchUserName.value) return;\n  const found = posts.find((post) => post.user.name === searchUserName.value);\n  if (found) {\n    router.push({ name: \"Account\", params: { id: found.user.id } });\n  } else {\n    alert(\"該当するユーザーが見つかりませんでした。\");\n  }\n}\n</script>\n\n<style scoped>\n.account {\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 24px;\n  background: #f9f9f9;\n  border-radius: 12px;\n  box-shadow: 0 4px 24px rgba(0 0 0 / 0.1);\n}\n\n/* ===== ユーザー情報 ===== */\n.user-info {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  margin-bottom: 32px;\n}\n.user-icon {\n  width: 64px;\n  aspect-ratio: 1;\n  border-radius: 50%;\n  object-fit: cover;\n  border: 2px solid #265e9e;\n}\n.user-name {\n  margin: 0;\n  font-size: 1.8rem;\n  font-weight: bold;\n  color: #333;\n}\n.user-id {\n  margin: 4px 0 0;\n  font-size: 1rem;\n  color: #777;\n}\n\n/* ===== 検索バー ===== */\n.user-search-bar {\n  display: flex;\n  gap: 8px;\n}\n.user-search-input {\n  flex: 1;\n  padding: 10px;\n  font-size: 1rem;\n  border: 1px solid #ccc;\n  border-radius: 6px;\n}\n.user-search-btn {\n  padding: 10px 16px;\n  font-size: 1rem;\n  border: none;\n  border-radius: 6px;\n  background: #265e9e;\n  color: #fff;\n  cursor: pointer;\n  transition: background 0.2s;\n}\n.user-search-btn:hover {\n  background: #183e6e;\n}\n\n/* ===== タブ切り替え ===== */\n.tab-toggle {\n  display: flex;\n  gap: 16px;\n  margin-bottom: 32px;\n}\n.tab-toggle button {\n  flex: 1;\n  padding: 12px;\n  font-size: 1rem;\n  border: 1px solid #ccc;\n  border-radius: 6px;\n  background: #fff;\n  color: #333;\n  cursor: pointer;\n  transition: background 0.2s, transform 0.2s;\n}\n.tab-toggle button.active {\n  background: #265e9e;\n  color: #fff;\n}\n.tab-toggle button:hover {\n  background: #f0f0f0;\n}\n\n/* ===== 投稿リスト ===== */\n.post-list {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: 24px;\n}\n</style>"],"mappings":";;;;AAiDA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,QAAQ,QAAQ,KAAK;AAC7C,SAASC,QAAQ,EAAEC,SAAS,QAAQ,YAAY;AAChD,OAAOC,QAAQ,MAAM,4BAA4B;AACjD,OAAOC,QAAQ,MAAM,aAAa;AAClC,OAAOC,WAAW,MAAM,0BAA0B;;AAElD;;;;;;;;IACA,MAAMC,SAAS,GAAGR,GAAG,CAAC,cAAc,CAAC;;IAErC;IACA,MAAMS,KAAK,GAAIN,QAAQ,CAAC,CAAC;IACzB,MAAMO,MAAM,GAAGN,SAAS,CAAC,CAAC;IAC1B,MAAMO,MAAM,GAAGF,KAAK,CAACG,MAAM,CAACC,EAAE,GAAGC,MAAM,CAACL,KAAK,CAACG,MAAM,CAACC,EAAE,CAAC,GAAG,IAAI;IAC/D,MAAME,KAAK,GAAId,QAAQ,CAACK,QAAQ,CAAC;;IAEjC;IACA,MAAMU,cAAc,GAAGhB,GAAG,CAAC,EAAE,CAAC;;IAE9B;IACA,MAAMiB,SAAS,GAAGf,QAAQ,CAAC,MACzBa,KAAK,CAACG,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,IAAI,CAACP,EAAE,KAAKF,MAAM,CAChD,CAAC;IACD;IACA,MAAMU,UAAU,GAAGnB,QAAQ,CAAC,MAAMa,KAAK,CAACG,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACG,OAAO,CAAC,CAAC;;IAEvE;IACA,MAAMF,IAAI,GAAGlB,QAAQ,CAAC,MAAM;MAC1B,MAAMqB,SAAS,GAAGN,SAAS,CAACO,KAAK,CAAC,CAAC,CAAC;MACpC,IAAID,SAAS,EAAE;QACb,OAAO;UACLV,EAAE,EAAIU,SAAS,CAACH,IAAI,CAACP,EAAE;UACvBY,IAAI,EAAEF,SAAS,CAACH,IAAI,CAACK,IAAI;UACzBC,IAAI,EAAEH,SAAS,CAACH,IAAI,CAACO;QACvB,CAAC;MACH,CAAC,MAAM;QACL,OAAO,IAAI;MACb;IACF,CAAC,CAAC;;IAEF;IACA,MAAMC,SAAS,GAAG1B,QAAQ,CAAC,MAAM,CAAC,CAACkB,IAAI,CAACI,KAAK,CAAC;;IAE9C;IACA,SAASK,UAAUA,CAAA,EAAG;MACpB,IAAI,CAACb,cAAc,CAACQ,KAAK,EAAE;MAC3B,MAAMM,KAAK,GAAGf,KAAK,CAACgB,IAAI,CAAEZ,IAAI,IAAKA,IAAI,CAACC,IAAI,CAACK,IAAI,KAAKT,cAAc,CAACQ,KAAK,CAAC;MAC3E,IAAIM,KAAK,EAAE;QACTpB,MAAM,CAACsB,IAAI,CAAC;UAAEP,IAAI,EAAE,SAAS;UAAEb,MAAM,EAAE;YAAEC,EAAE,EAAEiB,KAAK,CAACV,IAAI,CAACP;UAAG;QAAE,CAAC,CAAC;MACjE,CAAC,MAAM;QACLoB,KAAK,CAAC,sBAAsB,CAAC;MAC/B;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}