{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { ref, computed } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport QuestionCard from \"../components/QuestionCard.vue\";\nimport questions from \"../data/questions.js\"; // 質問データ\n\n// ジャンルごとのスコア\n\nexport default {\n  __name: 'TestView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const scores = ref({\n      アクション: 0,\n      カードゲーム: 0,\n      格闘: 0,\n      RPG: 0,\n      シューテーング: 0,\n      アドベンチャー: 0,\n      レース: 0,\n      シュミレーション: 0\n    });\n\n    // 質問の現在位置\n    const currentIndex = ref(0);\n    const router = useRouter();\n\n    // 現在の質問を取得\n    const currentQuestion = computed(() => questions[currentIndex.value]);\n\n    // 選択肢を選んだ時の処理\n    function handleSelect(selectedGenres) {\n      // 選ばれたジャンルにスコア加算\n      selectedGenres.forEach(genre => {\n        scores.value[genre]++;\n      });\n\n      // 次へ or 結果ページへ\n      if (currentIndex.value < questions.length - 1) {\n        currentIndex.value++;\n      } else {\n        // 最大スコアのジャンルを抽出\n        const topGenre = Object.entries(scores.value).sort((a, b) => b[1] - a[1])[0][0];\n        router.push({\n          name: \"DiagnosisResult\",\n          query: {\n            genre: topGenre\n          }\n        });\n      }\n    }\n    const __returned__ = {\n      scores,\n      currentIndex,\n      router,\n      currentQuestion,\n      handleSelect,\n      ref,\n      computed,\n      get useRouter() {\n        return useRouter;\n      },\n      QuestionCard,\n      get questions() {\n        return questions;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","useRouter","QuestionCard","questions","scores","アクション","カードゲーム","格闘","RPG","シューテーング","アドベンチャー","レース","シュミレーション","currentIndex","router","currentQuestion","value","handleSelect","selectedGenres","forEach","genre","length","topGenre","Object","entries","sort","a","b","push","name","query"],"sources":["/Users/namako-mac/mysite/game-introduction/src/views/TestView.vue"],"sourcesContent":["<template>\n  <div class=\"diagnosis-page\">\n    <QuestionCard\n      v-if=\"currentQuestion\"\n      :question=\"currentQuestion\"\n      @select=\"handleSelect\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport QuestionCard from \"../components/QuestionCard.vue\";\nimport questions from \"../data/questions.js\"; // 質問データ\n\n// ジャンルごとのスコア\nconst scores = ref({\n  アクション: 0,\n  カードゲーム: 0,\n  格闘: 0,\n  RPG: 0,\n  シューテーング: 0,\n  アドベンチャー: 0,\n  レース: 0,\n  シュミレーション: 0,\n});\n\n// 質問の現在位置\nconst currentIndex = ref(0);\nconst router = useRouter();\n\n// 現在の質問を取得\nconst currentQuestion = computed(() => questions[currentIndex.value]);\n\n// 選択肢を選んだ時の処理\nfunction handleSelect(selectedGenres) {\n  // 選ばれたジャンルにスコア加算\n  selectedGenres.forEach((genre) => {\n    scores.value[genre]++;\n  });\n\n  // 次へ or 結果ページへ\n  if (currentIndex.value < questions.length - 1) {\n    currentIndex.value++;\n  } else {\n    // 最大スコアのジャンルを抽出\n    const topGenre = Object.entries(scores.value).sort((a, b) => b[1] - a[1])[0][0];\n    router.push({ name: \"DiagnosisResult\", query: { genre: topGenre } });\n  }\n}\n</script>\n"],"mappings":";;;AAWA,SAASA,GAAG,EAAEC,QAAQ,QAAQ,KAAK;AACnC,SAASC,SAAS,QAAQ,YAAY;AACtC,OAAOC,YAAY,MAAM,gCAAgC;AACzD,OAAOC,SAAS,MAAM,sBAAsB,CAAC,CAAC;;AAE9C;;;;;;;;IACA,MAAMC,MAAM,GAAGL,GAAG,CAAC;MACjBM,KAAK,EAAE,CAAC;MACRC,MAAM,EAAE,CAAC;MACTC,EAAE,EAAE,CAAC;MACLC,GAAG,EAAE,CAAC;MACNC,OAAO,EAAE,CAAC;MACVC,OAAO,EAAE,CAAC;MACVC,GAAG,EAAE,CAAC;MACNC,QAAQ,EAAE;IACZ,CAAC,CAAC;;IAEF;IACA,MAAMC,YAAY,GAAGd,GAAG,CAAC,CAAC,CAAC;IAC3B,MAAMe,MAAM,GAAGb,SAAS,CAAC,CAAC;;IAE1B;IACA,MAAMc,eAAe,GAAGf,QAAQ,CAAC,MAAMG,SAAS,CAACU,YAAY,CAACG,KAAK,CAAC,CAAC;;IAErE;IACA,SAASC,YAAYA,CAACC,cAAc,EAAE;MACpC;MACAA,cAAc,CAACC,OAAO,CAAEC,KAAK,IAAK;QAChChB,MAAM,CAACY,KAAK,CAACI,KAAK,CAAC,EAAE;MACvB,CAAC,CAAC;;MAEF;MACA,IAAIP,YAAY,CAACG,KAAK,GAAGb,SAAS,CAACkB,MAAM,GAAG,CAAC,EAAE;QAC7CR,YAAY,CAACG,KAAK,EAAE;MACtB,CAAC,MAAM;QACL;QACA,MAAMM,QAAQ,GAAGC,MAAM,CAACC,OAAO,CAACpB,MAAM,CAACY,KAAK,CAAC,CAACS,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAAC,CAAC,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/EZ,MAAM,CAACc,IAAI,CAAC;UAAEC,IAAI,EAAE,iBAAiB;UAAEC,KAAK,EAAE;YAAEV,KAAK,EAAEE;UAAS;QAAE,CAAC,CAAC;MACtE;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}