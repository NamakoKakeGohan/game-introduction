{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, Fragment as _Fragment, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"home\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = [\"src\"];\nexport function render(_ctx, _cache) {\n  const _component_PostSearchBar = _resolveComponent(\"PostSearchBar\");\n  const _component_PostItem = _resolveComponent(\"PostItem\");\n  const _component_PostFunctionModalDialog = _resolveComponent(\"PostFunctionModalDialog\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 検索バーコンポーネント \"), _createVNode(_component_PostSearchBar, {\n    searchQuery: _ctx.searchQuery,\n    postList: _ctx.postList,\n    \"onUpdate:searchQuery\": _cache[0] || (_cache[0] = val => _ctx.searchQuery = val),\n    onSearchResults: _ctx.updateSearchResults\n  }, null, 8 /* PROPS */, [\"searchQuery\", \"postList\", \"onSearchResults\"]), _createCommentVNode(\" 検索結果が1件以上ある場合のみPostItemを表示 \"), _ctx.filteredPostList.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_PostItem, {\n    posts: _ctx.filteredPostList\n  }, null, 8 /* PROPS */, [\"posts\"])])) : _ctx.searchQuery && _ctx.searchQuery.length > 0 && _ctx.filteredPostList.length === 0 ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" 検索クエリがあり、かつfilteredPostListが0件のときだけ表示 \"), _cache[2] || (_cache[2] = _createElementVNode(\"p\", null, \" 一致する投稿がありません。 \", -1 /* HOISTED */))], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 投稿機能 \"), _createElementVNode(\"img\", {\n    src: _ctx.plusIcon,\n    alt: \"投稿ボタン\",\n    class: \"plus-icon\",\n    onClick: _cache[1] || (_cache[1] = (...args) => _ctx.toggleModal && _ctx.toggleModal(...args))\n  }, null, 8 /* PROPS */, _hoisted_3), _ctx.showModal ? (_openBlock(), _createBlock(_component_PostFunctionModalDialog, {\n    key: 2,\n    openModal: _ctx.showModal,\n    onClose: _ctx.toggleModal,\n    onSubmitPost: _ctx.addPost\n  }, null, 8 /* PROPS */, [\"openModal\", \"onClose\", \"onSubmitPost\"])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createCommentVNode","_createVNode","_component_PostSearchBar","searchQuery","_ctx","postList","_cache","val","onSearchResults","updateSearchResults","filteredPostList","length","_hoisted_2","_component_PostItem","posts","_Fragment","_createElementVNode","src","plusIcon","alt","onClick","args","toggleModal","_hoisted_3","showModal","_createBlock","_component_PostFunctionModalDialog","openModal","onClose","onSubmitPost","addPost"],"sources":["/Users/namako-mac/mysite/game-introduction/src/views/HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <!-- 検索バーコンポーネント -->\n    <PostSearchBar :searchQuery=\"searchQuery\" :postList=\"postList\" @update:searchQuery=\"(val) => (searchQuery = val)\" @searchResults=\"updateSearchResults\"/>\n    <!-- 検索結果が1件以上ある場合のみPostItemを表示 -->\n    <div v-if=\"filteredPostList.length > 0\">\n      <PostItem :posts=\"filteredPostList\" />\n    </div>\n    <!-- 検索クエリがあり、かつfilteredPostListが0件のときだけ表示 -->\n    <p v-else-if=\" searchQuery && searchQuery.length > 0 && filteredPostList.length === 0\">\n      一致する投稿がありません。\n    </p>\n    <!-- 投稿機能 -->\n    <img :src=\"plusIcon\" alt=\"投稿ボタン\" class=\"plus-icon\" @click=\"toggleModal\"/>\n    <PostFunctionModalDialog v-if=\"showModal\" :openModal=\"showModal\" @close=\"toggleModal\" @submitPost=\"addPost\"/>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed }       from \"vue\";\nimport PostSearchBar           from \"../components/PostSearchBar.vue\";\nimport PostItem                from \"../components/PostItem.vue\";\nimport PostFunctionModalDialog from \"../components/PostFunctionModalDialog.vue\";\nimport postData                from \"../postData\";\nimport plusIcon                from \"../assets/plus.svg\";\n\nconst postList.     = ref(postData); // 初期投稿データを管理\nconst showModal = ref(false); // モーダルの表示状態を管理\nconst searchQuery = ref(\"\");\nconst searchResults = ref([]); // 検索結果を管理\n\n// 検索結果を更新する関数\nfunction updateSearchResults(results) {\n  searchResults.value = results || [];\n}\n\n// 検索クエリに基づいてフィルタリングされた投稿データを計算\nconst filteredPostList = computed(() => {\n  // 検索クエリが空なら全件表示\n  if (!searchQuery.value) return postList.value || [];\n  // 検索クエリがあり、検索結果が0件なら空配列\n  if (searchResults.value && searchResults.value.length === 0) return [];\n  // 検索結果があればそれを表示\n  return searchResults.value;\n});\n\n// モーダルの表示/非表示を切り替える関数\nfunction toggleModal() {\n  showModal.value = !showModal.value;\n}\n\n// 新しい投稿データを追加する関数\nfunction addPost(newPost) {\n  // 新しい投稿データにユニークなIDを付与\n  const newPostId =\n    postList.value.length > 0\n      ? Math.max(...postList.value.map((post) => post.postId)) + 1\n      : 1;\n\n  const formattedPost = {\n    ...newPost,\n    postId: newPostId, // ユニークなIDを設定\n    likeCount: 0, // 初期の「いいね」数\n    isLiked: false, // 初期の「いいね」状態\n    formattedDate: new Date().toLocaleDateString(\"ja-JP\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n    }),\n  };\n\n  // postListをリアクティブに更新\n  postList.value.unshift(formattedPost);\n\n  // 検索結果が表示されている場合も即時反映\n  searchResults.value = [];\n}\n</script>\n\n<style scoped>\n.home {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 50px;\n  padding: 20px;\n}\n\n.plus-icon {\n  width: 130px;\n  height: 130px;\n  cursor: pointer;\n  position: fixed;\n  bottom: 100px;\n  right: 100px;\n  border-radius: 50%;\n  background-color: #3776a7;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  z-index: 100;\n  transition: transform 0.2s ease;\n}\n\n.plus-icon:hover {\n  transform: scale(1.2);\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAM;;EADnBC,GAAA;AAAA;mBAAA;;;;;uBACEC,mBAAA,CAcM,OAdNC,UAcM,GAbJC,mBAAA,iBAAoB,EACpBC,YAAA,CAAwJC,wBAAA;IAAxIC,WAAW,EAAEC,IAAA,CAAAD,WAAW;IAAGE,QAAQ,EAAED,IAAA,CAAAC,QAAQ;IAAG,sBAAkB,EAAAC,MAAA,QAAAA,MAAA,MAAGC,GAAG,IAAMH,IAAA,CAAAD,WAAW,GAAGI,GAAG;IAAIC,eAAa,EAAEJ,IAAA,CAAAK;2EAClIT,mBAAA,gCAAmC,EACxBI,IAAA,CAAAM,gBAAgB,CAACC,MAAM,Q,cAAlCb,mBAAA,CAEM,OAPVc,UAAA,GAMMX,YAAA,CAAsCY,mBAAA;IAA3BC,KAAK,EAAEV,IAAA,CAAAM;EAAgB,mC,KAGrBN,IAAA,CAAAD,WAAW,IAAIC,IAAA,CAAAD,WAAW,CAACQ,MAAM,QAAQP,IAAA,CAAAM,gBAAgB,CAACC,MAAM,U,cAA/Eb,mBAAA,CAEIiB,SAAA;IAXRlB,GAAA;EAAA,IAQIG,mBAAA,2CAA8C,E,0BAC9CgB,mBAAA,CAEI,WAFmF,iBAEvF,qB,oDAXJhB,mBAAA,gBAYIA,mBAAA,UAAa,EACbgB,mBAAA,CAAyE;IAAnEC,GAAG,EAAEb,IAAA,CAAAc,QAAQ;IAAEC,GAAG,EAAC,OAAO;IAACvB,KAAK,EAAC,WAAW;IAAEwB,OAAK,EAAAd,MAAA,QAAAA,MAAA,UAAAe,IAAA,KAAEjB,IAAA,CAAAkB,WAAA,IAAAlB,IAAA,CAAAkB,WAAA,IAAAD,IAAA,CAAW;0BAb1EE,UAAA,GAcmCnB,IAAA,CAAAoB,SAAS,I,cAAxCC,YAAA,CAA6GC,kCAAA;IAdjH7B,GAAA;IAc+C8B,SAAS,EAAEvB,IAAA,CAAAoB,SAAS;IAAGI,OAAK,EAAExB,IAAA,CAAAkB,WAAW;IAAGO,YAAU,EAAEzB,IAAA,CAAA0B;uEAdvG9B,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}