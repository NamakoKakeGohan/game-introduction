{"ast":null,"code":"import { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"diagnosis-page\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$setup.currentQuestion ? (_openBlock(), _createBlock($setup[\"QuestionCard\"], {\n    key: 0,\n    question: $setup.currentQuestion,\n    onSelect: $setup.handleSelect\n  }, null, 8 /* PROPS */, [\"question\"])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","$setup","currentQuestion","_createBlock","key","question","onSelect","handleSelect","_createCommentVNode"],"sources":["/Users/namako-mac/mysite/game-introduction/src/views/TestView.vue"],"sourcesContent":["<template>\n  <div class=\"diagnosis-page\">\n    <QuestionCard\n      v-if=\"currentQuestion\"\n      :question=\"currentQuestion\"\n      @select=\"handleSelect\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport QuestionCard from \"../components/QuestionCard.vue\";\nimport questions from \"../data/questions.js\"; // 質問データ\n\n// ジャンルごとのスコア\nconst scores = ref({\n  アクション: 0,\n  カードゲーム: 0,\n  格闘: 0,\n  RPG: 0,\n  シューテーング: 0,\n  アドベンチャー: 0,\n  レース: 0,\n  シュミレーション: 0,\n});\n\n// 質問の現在位置\nconst currentIndex = ref(0);\nconst router = useRouter();\n\n// 現在の質問を取得\nconst currentQuestion = computed(() => questions[currentIndex.value]);\n\n// 選択肢を選んだ時の処理\nfunction handleSelect(selectedGenres) {\n  // 選ばれたジャンルにスコア加算\n  selectedGenres.forEach((genre) => {\n    scores.value[genre]++;\n  });\n\n  // 次へ or 結果ページへ\n  if (currentIndex.value < questions.length - 1) {\n    currentIndex.value++;\n  } else {\n    // 最大スコアのジャンルを抽出\n    const topGenre = Object.entries(scores.value).sort((a, b) => b[1] - a[1])[0][0];\n    router.push({ name: \"DiagnosisResult\", query: { genre: topGenre } });\n  }\n}\n</script>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAgB;;uBAA3BC,mBAAA,CAMM,OANNC,UAMM,GAJIC,MAAA,CAAAC,eAAe,I,cADvBC,YAAA,CAIEF,MAAA;IANNG,GAAA;IAIOC,QAAQ,EAAEJ,MAAA,CAAAC,eAAe;IACzBI,QAAM,EAAEL,MAAA,CAAAM;2CALfC,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}